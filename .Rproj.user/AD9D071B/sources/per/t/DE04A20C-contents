rm(list = ls())

# Load the data
patient_data <- read.csv("C:/Users/LENOVO/Documents/AI_Omics_Internship_2025/data/patient_info.csv", stringsAsFactors = FALSE)

# Convert data types
patient_data$age <- as.numeric(patient_data$age)
patient_data$bmi <- as.numeric(patient_data$bmi)

patient_data$gender <- as.factor(patient_data$gender)
patient_data$smoker <- as.factor(patient_data$smoker)
patient_data$diagnosis <- as.factor(patient_data$diagnosis)

# Create binary variable
patient_data$smoker_binary <- ifelse(patient_data$smoker == "Yes", 1, 0)

str(patient_data)

# Now reorder columns
patient_data <- patient_data[, c("patient_id", "age", "gender", "bmi", "smoker", "smoker_binary", "diagnosis")]

# Save cleaned data
write.csv(patient_data, "C:/Users/LENOVO/Documents/AI_Omics_Internship_2025/output/patient_info_clean.csv", row.names = FALSE)
save(patient_data, file = "cleaning_workspace.RData")

# Check again
summary(patient_data)

load("cleaning_workspace.RData")
ls()
head(patient_data)
summary(patient_data)
str(patient_data)
